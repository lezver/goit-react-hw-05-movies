{"version":3,"file":"static/js/602.44180d51.chunk.js","mappings":"2SAiEA,EAzDe,WAAO,IAAD,EACnB,GAAkCA,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAY,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,IAElDC,EAAAA,EAAAA,YAAU,WACR,IAAMT,EAAU,mCAAG,wFACbK,EAAaG,IAAI,SADJ,iCAEQE,EAAAA,EAAAA,IAAgBL,EAAaG,IAAI,UAFzC,OAETG,EAFS,OAIfV,GAAc,OAAIU,EAASC,KAAKC,UAJjB,2CAAH,qDAQhBb,GACD,GAAE,IAEH,IAAMc,EAAgB,mCAAG,2FACvBf,GAAa,GADU,UAEAW,EAAAA,EAAAA,IAAgBL,EAAaG,IAAI,UAFjC,QAEjBG,EAFiB,QAIVC,KAAKC,QAAQE,QACxBC,IAAAA,OAAAA,QAAwB,wCAExBf,GAAc,OAAIU,EAASC,KAAKC,WAEhCG,IAAAA,OAAAA,KAAqB,4CAGvBjB,GAAa,GAZU,2CAAH,qDAoBtB,OACE,gCACE,SAAC,KAAD,CACEkB,OAAQH,EACRI,SAToB,SAAAC,GAExBb,EAD6B,KAAVa,EAAe,CAAEA,MAAAA,GAAU,CAAC,EAEhD,EAOKC,MAAOb,IAERT,GACC,gBAAKuB,UAAU,sBAAf,UACE,SAAC,KAAD,OAGF,SAAC,KAAD,CAAYrB,WAAYA,EAAYsB,KAAMpB,MAIjD,C,iNC5DKqB,EAAU,2CACVC,EAAW,gCAEJC,EAAW,mCAAG,2FACrBd,EAAW,GADU,kBAINe,EAAAA,EAAAA,IAAA,UACZF,EADY,2CAC+BD,IALzB,OAIvBZ,EAJuB,uDAQvBK,IAAAA,OAAAA,QAAwB,iDACxBW,QAAQC,IAAR,MATuB,iCAYlBjB,GAZkB,yDAAH,qDAeXkB,EAAe,mCAAG,WAAMC,GAAN,8EACzBnB,EAAW,GADc,kBAIVe,EAAAA,EAAAA,IAAA,UACZF,EADY,iBACKM,EADL,2BAC0BP,IALhB,OAI3BZ,EAJ2B,uDAQ3BK,IAAAA,OAAAA,QAAwB,iDACxBW,QAAQC,IAAR,MAT2B,iCAYtBjB,GAZsB,yDAAH,sDAefD,EAAe,mCAAG,WAAMqB,GAAN,8EACzBpB,EAAW,GADc,kBAIVe,EAAAA,EAAAA,IAAA,UACZF,EADY,8BACkBO,EADlB,sDACqER,IAL3D,OAI3BZ,EAJ2B,uDAQ3BK,IAAAA,OAAAA,QAAwB,iDACxBW,QAAQC,IAAR,MAT2B,iCAYtBjB,GAZsB,yDAAH,sDAefqB,EAAO,mCAAG,WAAMF,GAAN,8EACjBnB,EAAW,GADM,kBAIFe,EAAAA,EAAAA,IAAA,UACZF,EADY,iBACKM,EADL,mCACkCP,IALhC,OAInBZ,EAJmB,uDAQnBK,IAAAA,OAAAA,QAAwB,iDACxBW,QAAQC,IAAR,MATmB,iCAYdjB,GAZc,yDAAH,sDAcPsB,EAAU,mCAAG,WAAMH,GAAN,8EACpBnB,EAAW,GADS,kBAILe,EAAAA,EAAAA,IAAA,UACZF,EADY,iBACKM,EADL,0CACyCP,IALpC,OAItBZ,EAJsB,uDAQtBK,IAAAA,OAAAA,QAAwB,iDACxBW,QAAQC,IAAR,MATsB,iCAYjBjB,GAZiB,yDAAH,qD","sources":["pages/Movies/Movies.jsx","services/Api.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport './Movies.scss';\nimport { SearchMovie, MoviesList } from 'components';\nimport { getSearchMovies } from 'services/Api';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { Loader } from 'components';\nimport Notiflix from 'notiflix';\n\nconst Movies = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [moviesList, setMoviesList] = useState([]);\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchMovies = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    const moviesList = async () => {\n      if (searchParams.get('query')) {\n        const response = await getSearchMovies(searchParams.get('query'));\n\n        setMoviesList([...response.data.results]);\n      }\n    };\n\n    moviesList(); // eslint-disable-next-line\n  }, []);\n\n  const fetchSearchMovie = async () => {\n    setIsLoading(true);\n    const response = await getSearchMovies(searchParams.get('query'));\n\n    if (response.data.results.length) {\n      Notiflix.Notify.success(\"Here's what we found on your request\");\n\n      setMoviesList([...response.data.results]);\n    } else {\n      Notiflix.Notify.info('Sorry, nothing was found for your search');\n    }\n\n    setIsLoading(false);\n  };\n\n  const updateQueryString = query => {\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n  };\n\n  return (\n    <section>\n      <SearchMovie\n        search={fetchSearchMovie}\n        onChange={updateQueryString}\n        value={searchMovies}\n      />\n      {isLoading ? (\n        <div className=\"backdrop-for-loader\">\n          <Loader />\n        </div>\n      ) : (\n        <MoviesList moviesList={moviesList} from={location} />\n      )}\n    </section>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\nimport Notiflix from 'notiflix';\n\nconst API_KEY = 'api_key=069f0096f83b6d4377da260a7888cd6d';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport const getTranding = async () => {\n  let response = '';\n\n  try {\n    response = await axios.get(\n      `${BASE_URL}trending/all/day?language=en-US&${API_KEY}`\n    );\n  } catch (error) {\n    Notiflix.Notify.failure(\"Oops... Something's wron... try again later:)\");\n    console.log(error);\n  }\n\n  return response;\n};\n\nexport const getMovieDetails = async id => {\n  let response = '';\n\n  try {\n    response = await axios.get(\n      `${BASE_URL}movie/${id}?language=en-US&${API_KEY}`\n    );\n  } catch (error) {\n    Notiflix.Notify.failure(\"Oops... Something's wron... try again later:)\");\n    console.log(error);\n  }\n\n  return response;\n};\n\nexport const getSearchMovies = async movie => {\n  let response = '';\n\n  try {\n    response = await axios.get(\n      `${BASE_URL}search/movie?query=${movie}&include_adult=false&language=en-US&page=1&${API_KEY}`\n    );\n  } catch (error) {\n    Notiflix.Notify.failure(\"Oops... Something's wron... try again later:)\");\n    console.log(error);\n  }\n\n  return response;\n};\n\nexport const getCast = async id => {\n  let response = '';\n\n  try {\n    response = await axios.get(\n      `${BASE_URL}movie/${id}/credits?language=en-US&${API_KEY}`\n    );\n  } catch (error) {\n    Notiflix.Notify.failure(\"Oops... Something's wron... try again later:)\");\n    console.log(error);\n  }\n\n  return response;\n};\nexport const getReviews = async id => {\n  let response = '';\n\n  try {\n    response = await axios.get(\n      `${BASE_URL}movie/${id}/reviews?language=en-US&page=1&${API_KEY}`\n    );\n  } catch (error) {\n    Notiflix.Notify.failure(\"Oops... Something's wron... try again later:)\");\n    console.log(error);\n  }\n\n  return response;\n};\n"],"names":["useState","isLoading","setIsLoading","moviesList","setMoviesList","location","useLocation","useSearchParams","searchParams","setSearchParams","searchMovies","get","useEffect","getSearchMovies","response","data","results","fetchSearchMovie","length","Notiflix","search","onChange","query","value","className","from","API_KEY","BASE_URL","getTranding","axios","console","log","getMovieDetails","id","movie","getCast","getReviews"],"sourceRoot":""}